/**
 * @class Ext.app.Portlet
 * @extends Ext.panel.Panel
 * A {@link Ext.panel.Panel Panel} class that is managed by {@link Ext.app.PortalPanel}.
 */
Ext.define('Ext.app.view.portlet.PaymentPortlet', {
    extend: 'Ext.panel.Panel',
    alias: 'widget.paymentportlet',
    layout:'fit',
    //width:300,
    height:300,
    tbar:[{text:'View All Payment Status',
           handler: function(){
             var Tab = Ext.create('MyApp.view.PaymentStatus');
                 globalTab.add(Tab);
                 globalTab.setActiveTab(Tab);            
        }
    }],
    items:[Ext.create('Ext.chart.Chart', {
            animate: false,
            store: chartStore,
            shadow: false,
            height:100,
            width:150,
            legend: {
                position: 'right'
            },
            insetPadding: 20,
            theme: 'Base:gradients',
            series: [{
                type: 'pie',
                field: 'data1',
                showInLegend: true,
                donut: false,
                highlight: {
                    segment: {
                        margin: 10
                    }
                },
                label: {
                    field: 'name',
                    //display: 'rotate',
                    contrast: true,
                    font: '12px Arial'
                }
            }]
        })
        ],
    cls: 'x-portlet',
    doClose: function() {
        if (!this.closing) {
            this.closing = true;
            this.el.animate({
                opacity: 0,
                callback: function(){
                    this.fireEvent('close', this);
                    this[this.closeAction]();
                },
                scope: this
            });
        }
    }
});
